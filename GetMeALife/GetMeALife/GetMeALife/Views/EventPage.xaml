<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="GetMeALife.Views.EventPage">
    <ContentPage.Content>
        <StackLayout>
            <Grid x:Name="gridEmptyEventList" HorizontalOptions="FillAndExpand" Padding="10,5" Margin="{StaticResource TL-Grid-Margin}" IsVisible="False">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="100*"/>
                </Grid.ColumnDefinitions>
                <Label
                Text=""
                IsVisible="False"
                x:Name="lblEmptyEventList"/>
            </Grid>
            <AbsoluteLayout Padding="5,5" HorizontalOptions="CenterAndExpand" VerticalOptions="CenterAndExpand" Margin="0,20,0,20">
                <StackLayout VerticalOptions="FillAndExpand" AbsoluteLayout.LayoutFlags="All" AbsoluteLayout.LayoutBounds="0,0,1,1">
                    <ListView
                        x:Name="lstEvents"
                        SeparatorVisibility="None"
                        HasUnevenRows="true"
                        ItemsSource="{Binding}">
                        <ListView.Header>
                            <Label HeightRequest="0"/>
                        </ListView.Header>
                        <ListView.ItemTemplate>
                            <DataTemplate>
                                <ViewCell>
                                    <StackLayout Padding="5,5" HorizontalOptions="FillAndExpand" VerticalOptions="FillAndExpand" Spacing="0">
                                        <Grid 
                                            BackgroundColor="{StaticResource White}" ColumnSpacing="0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="10" />
                                                <ColumnDefinition Width="10" />
                                                <ColumnDefinition Width="62*" />
                                                <ColumnDefinition>
                                                    <ColumnDefinition.Width>
                                                        <OnIdiom x:TypeArguments="GridLength" Phone="45*" Tablet="28*" />
                                                    </ColumnDefinition.Width>
                                                </ColumnDefinition>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition>
                                                    <RowDefinition.Height>
                                                        <OnIdiom x:TypeArguments="GridLength" Phone="31" Tablet="47"/>
                                                    </RowDefinition.Height>
                                                </RowDefinition>
                                                <RowDefinition>
                                                    <RowDefinition.Height>
                                                        <OnIdiom x:TypeArguments="GridLength" Phone="20" Tablet="30"/>
                                                    </RowDefinition.Height>
                                                </RowDefinition>
                                                <RowDefinition>
                                                    <RowDefinition.Height>
                                                        <OnIdiom x:TypeArguments="GridLength" Phone="30" Tablet="45"/>
                                                    </RowDefinition.Height>
                                                </RowDefinition>
                                                <RowDefinition>
                                                    <RowDefinition.Height>
                                                        <OnIdiom x:TypeArguments="GridLength" Phone="27" Tablet="41"/>
                                                    </RowDefinition.Height>
                                                </RowDefinition>
                                            </Grid.RowDefinitions>
                                            <BoxView
                                                Color="{Binding BarColor}"
                                                Grid.Column="0"
                                                Grid.Row="0"
                                                Grid.RowSpan="4"
                                                Margin="0"/>
                                            <BoxView
                                                Color="{Binding ChangeBarColor}"
                                                Grid.Column="1"
                                                Grid.Row="0"
                                                Grid.RowSpan="4"/>
                                            <Label x:Name="lblName" Font="Large" HorizontalTextAlignment="Start" VerticalTextAlignment="Start" HorizontalOptions="StartAndExpand"></Label>
                                            <Label x:Name="lblTime" Font="Large" HorizontalTextAlignment="End" VerticalTextAlignment="Start" HorizontalOptions="End"></Label>
                                            <Label x:Name="lblLocation" Font="Large" HorizontalTextAlignment="Start" VerticalTextAlignment="End" HorizontalOptions="StartAndExpand"></Label>
                                            <Label x:Name="lblPrice" Font="Large" HorizontalTextAlignment="End" VerticalTextAlignment="End" HorizontalOptions="End"></Label>
                                        </Grid>
                                    </StackLayout>
                                </ViewCell>
                            </DataTemplate>
                        </ListView.ItemTemplate>
                    </ListView>

                </StackLayout>

                <StackLayout Padding="12" x:Name="DisplayLoading" IsVisible="false"
                        AbsoluteLayout.LayoutFlags="PositionProportional"
                        AbsoluteLayout.LayoutBounds="0.5,0.5,-1,-1">
                    <ActivityIndicator x:Name="activityIndicator" VerticalOptions="Center" HorizontalOptions="Center" IsVisible="True" IsRunning="True" Color="Orange" Margin="40,0,40,40"
                                       AbsoluteLayout.LayoutFlags="PositionProportional"
                                        AbsoluteLayout.LayoutBounds="0.5,0.5,-1,-1"/>
                </StackLayout>
            </AbsoluteLayout>
        </StackLayout>
    </ContentPage.Content>
</ContentPage>